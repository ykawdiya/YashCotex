<UserControl x:Class="WeighbridgeSoftwareYashCotex.Views.SettingsControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
   
    <UserControl.Resources>
        <!-- Settings Styles -->
        <Style x:Key="HeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#6C5CE7"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
        </Style>
        
        <Style x:Key="TabHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#2D3436"/>
            <Setter Property="Margin" Value="5,8"/>
        </Style>
        
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>
        
        <Style x:Key="FieldLabelStyle" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,0,0,5"/>
            <Setter Property="Foreground" Value="#333"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
        
        <Style x:Key="FieldTextBoxStyle" TargetType="TextBox">
            <Setter Property="Padding" Value="8"/>
            <Setter Property="BorderBrush" Value="#CCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="35"/>
        </Style>
        
        <Style x:Key="FieldComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Padding" Value="8"/>
            <Setter Property="BorderBrush" Value="#CCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="35"/>
        </Style>
        
        <Style x:Key="SaveButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#00B894"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="Margin" Value="8,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Height" Value="40"/>
        </Style>
        
        <Style x:Key="CancelButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#636E72"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="Margin" Value="8,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Height" Value="40"/>
        </Style>
        
        <Style x:Key="AdminOnlyStyle" TargetType="Control">
            <Setter Property="Background" Value="#FFF5F5"/>
            <Setter Property="BorderBrush" Value="#FF6B6B"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="ToolTip" Value="Super Admin access required"/>
        </Style>
    </UserControl.Resources>

    <Border Background="White" CornerRadius="10" Padding="30" Margin="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>  <!-- Header -->
                <RowDefinition Height="*"/>     <!-- Tab Content -->
                <RowDefinition Height="Auto"/>  <!-- Buttons -->
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0">
                <TextBlock Text="⚙️ SYSTEM SETTINGS" Style="{StaticResource HeaderStyle}"/>
                <Rectangle Fill="#6C5CE7" Height="3" Width="150" HorizontalAlignment="Center" Margin="0,0,0,25"/>
            </StackPanel>

            <!-- Tab Control -->
            <TabControl Grid.Row="1" x:Name="SettingsTabControl" Background="White" BorderThickness="1" BorderBrush="#DDD">
                
                <!-- Tab 1: Company Information -->
                <TabItem Header="🏢 Company Info">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="600">
                            <TextBlock Text="COMPANY INFORMATION" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="15"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- Left Column -->
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Company Name *" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="CompanyNameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="YASH COTEX PRIVATE LIMITED"/>
                                    
                                    <TextBlock Text="Address Line 1 *" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="AddressLine1TextBox" Style="{StaticResource FieldTextBoxStyle}" Text=""/>
                                    
                                    <TextBlock Text="Address Line 2" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="AddressLine2TextBox" Style="{StaticResource FieldTextBoxStyle}" Text=""/>
                                </StackPanel>
                                
                                <!-- Right Column -->
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Phone Number *" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="CompanyPhoneTextBox" Style="{StaticResource FieldTextBoxStyle}" MaxLength="15" Text=""/>
                                    
                                    <TextBlock Text="Email Address" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="CompanyEmailTextBox" Style="{StaticResource FieldTextBoxStyle}" Text=""/>
                                    
                                    <TextBlock Text="GST Number" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="GstNumberTextBox" Style="{StaticResource FieldTextBoxStyle}" MaxLength="15" Text=""/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- Company Logo Section -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,20,0,0">
                                <StackPanel>
                                    <TextBlock Text="🖼️ COMPANY LOGO" FontSize="14" FontWeight="Bold" Margin="0,0,0,15"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="20"/>
                                            <ColumnDefinition Width="200"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- Logo Upload Controls -->
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Current Logo Path" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="CompanyLogoPathTextBox" Style="{StaticResource FieldTextBoxStyle}" 
                                                     IsReadOnly="True" Text="No logo selected"/>
                                            
                                            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                                <Button x:Name="BrowseLogoButton" Content="📁 Browse Logo" 
                                                        Style="{StaticResource SaveButtonStyle}" 
                                                        Width="120" Margin="0,0,10,0"
                                                        Click="BrowseLogoButton_Click"/>
                                                <Button x:Name="RemoveLogoButton" Content="🗑️ Remove" 
                                                        Style="{StaticResource CancelButtonStyle}" 
                                                        Width="100"
                                                        Click="RemoveLogoButton_Click"/>
                                            </StackPanel>
                                            
                                            <TextBlock Text="Supported formats: PNG, JPG, JPEG (PNG recommended for transparency)" 
                                                       FontSize="11" Foreground="#6C757D" Margin="0,5,0,0"/>
                                        </StackPanel>
                                        
                                        <!-- Logo Preview -->
                                        <Border Grid.Column="2" BorderBrush="#DEE2E6" BorderThickness="2" 
                                                CornerRadius="8" Background="White" Height="120">
                                            <Image x:Name="LogoPreviewImage" 
                                                   Stretch="Uniform" 
                                                   Margin="10"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"/>
                                        </Border>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 2: Hardware Configuration -->
                <TabItem Header="🔧 Hardware">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="600">
                            <TextBlock Text="HARDWARE CONFIGURATION" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <!-- Weighbridge Settings -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="⚖️ WEIGHBRIDGE SETTINGS" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Scale COM Port *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="ScaleComPortComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                                <ComboBoxItem Content="COM1" IsSelected="True"/>
                                                <ComboBoxItem Content="COM2"/>
                                                <ComboBoxItem Content="COM3"/>
                                                <ComboBoxItem Content="COM4"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="Baud Rate *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="BaudRateComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                                <ComboBoxItem Content="9600" IsSelected="True"/>
                                                <ComboBoxItem Content="19200"/>
                                                <ComboBoxItem Content="38400"/>
                                                <ComboBoxItem Content="57600"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="Data Bits *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="DataBitsComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                                <ComboBoxItem Content="7"/>
                                                <ComboBoxItem Content="8" IsSelected="True"/>
                                            </ComboBox>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Parity *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="ParityComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                                <ComboBoxItem Content="None" IsSelected="True"/>
                                                <ComboBoxItem Content="Even"/>
                                                <ComboBoxItem Content="Odd"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="Stop Bits *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="StopBitsComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                                <ComboBoxItem Content="1" IsSelected="True"/>
                                                <ComboBoxItem Content="2"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="Maximum Capacity (KG) *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="MaxCapacityTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="100000"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Printer Settings -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <TextBlock Text="🖨️ PRINTER SETTINGS" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Default Printer" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="DefaultPrinterComboBox" Style="{StaticResource FieldComboBoxStyle}"/>
                                            
                                            <TextBlock Text="Paper Size" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="PaperSizeComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                                <ComboBoxItem Content="A4" IsSelected="True"/>
                                                <ComboBoxItem Content="A5"/>
                                                <ComboBoxItem Content="80mm (Thermal)"/>
                                            </ComboBox>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Print Quality" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="PrintQualityComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                                <ComboBoxItem Content="Draft"/>
                                                <ComboBoxItem Content="Normal" IsSelected="True"/>
                                                <ComboBoxItem Content="High"/>
                                            </ComboBox>
                                            
                                            <CheckBox x:Name="AutoPrintCheckBox" Content="Auto-print after exit" Margin="0,15,0,0" IsChecked="True"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 3: Camera Settings -->
                <TabItem Header="📹 Cameras">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="800">
                            <TextBlock Text="IP CAMERA CONFIGURATION" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <!-- Camera Control Buttons -->
                            <Border Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="🎮 CAMERA CONTROLS" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    <StackPanel Orientation="Horizontal">
                                        <Button Content="🔄 Test All Cameras" Padding="10,5" Margin="0,0,10,0" x:Name="TestAllCamerasButton" Click="TestAllCamerasButton_Click"/>
                                        <Button Content="📹 Start Monitoring" Padding="10,5" Margin="0,0,10,0" x:Name="StartMonitoringButton" Click="StartMonitoringButton_Click"/>
                                        <Button Content="⏹️ Stop Monitoring" Padding="10,5" Margin="0,0,10,0" x:Name="StopMonitoringButton" Click="StopMonitoringButton_Click"/>
                                        <Button Content="📸 Capture All" Padding="10,5" x:Name="CaptureAllButton" Click="CaptureAllButton_Click"/>
                                    </StackPanel>
                                    <TextBlock x:Name="CameraStatusText" Text="Ready to configure cameras" Margin="0,10,0,0" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Camera 1 - Entry -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="📹 CAMERA 1 (Entry Camera)" FontSize="14" FontWeight="Bold" Grid.Column="0"/>
                                        <CheckBox x:Name="Camera1EnabledCheckBox" Content="Enable" IsChecked="True" Grid.Column="1"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Camera Name" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera1NameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="Entry Camera"/>
                                            
                                            <TextBlock Text="Protocol *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="Camera1ProtocolComboBox" Style="{StaticResource FieldComboBoxStyle}" SelectionChanged="Camera1ProtocolComboBox_SelectionChanged">
                                                <ComboBoxItem Content="HTTP" IsSelected="True" Tag="http"/>
                                                <ComboBoxItem Content="HTTPS" Tag="https"/>
                                                <ComboBoxItem Content="RTSP" Tag="rtsp"/>
                                                <ComboBoxItem Content="TCP" Tag="tcp"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="IP Address *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera1IpTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="192.168.1.101"/>
                                            
                                            <TextBlock Text="Stream Path" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera1StreamPathTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="/mjpeg/1" ToolTip="Path for HTTP/HTTPS or stream path for RTSP"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Port *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera1PortTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="80"/>
                                            
                                            <TextBlock Text="Username" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera1UsernameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="admin"/>
                                            
                                            <TextBlock Text="Password" Style="{StaticResource FieldLabelStyle}"/>
                                            <PasswordBox x:Name="Camera1PasswordBox" Height="35" Margin="0,0,0,12" Padding="8"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="4">
                                            <TextBlock Text="Full Stream URL" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera1FullUrlTextBox" Style="{StaticResource FieldTextBoxStyle}" IsReadOnly="True" 
                                                     Text="http://192.168.1.101:80/mjpeg/1" FontSize="10" Background="#F5F5F5"/>
                                            
                                            <Button Content="🔄 Test" x:Name="TestCamera1Button" Margin="0,10,0,5" Padding="8,4" Click="TestCamera1Button_Click"/>
                                            <Button Content="📸 Capture" x:Name="CaptureCamera1Button" Margin="0,0,0,5" Padding="8,4" Click="CaptureCamera1Button_Click"/>
                                            <Button Content="👁️ Preview" x:Name="PreviewCamera1Button" Margin="0,0,0,5" Padding="8,4" Click="PreviewCamera1Button_Click"/>
                                            <TextBlock x:Name="Camera1StatusText" Text="Not tested" FontSize="10" Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Camera 2 - Exit -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="📹 CAMERA 2 (Exit Camera)" FontSize="14" FontWeight="Bold" Grid.Column="0"/>
                                        <CheckBox x:Name="Camera2EnabledCheckBox" Content="Enable" IsChecked="True" Grid.Column="1"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Camera Name" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera2NameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="Exit Camera"/>
                                            
                                            <TextBlock Text="Protocol *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="Camera2ProtocolComboBox" Style="{StaticResource FieldComboBoxStyle}" SelectionChanged="Camera2ProtocolComboBox_SelectionChanged">
                                                <ComboBoxItem Content="HTTP" IsSelected="True" Tag="http"/>
                                                <ComboBoxItem Content="HTTPS" Tag="https"/>
                                                <ComboBoxItem Content="RTSP" Tag="rtsp"/>
                                                <ComboBoxItem Content="TCP" Tag="tcp"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="IP Address *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera2IpTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="192.168.1.102"/>
                                            
                                            <TextBlock Text="Stream Path" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera2StreamPathTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="/mjpeg/1" ToolTip="Path for HTTP/HTTPS or stream path for RTSP"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Port *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera2PortTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="80"/>
                                            
                                            <TextBlock Text="Username" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera2UsernameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="admin"/>
                                            
                                            <TextBlock Text="Password" Style="{StaticResource FieldLabelStyle}"/>
                                            <PasswordBox x:Name="Camera2PasswordBox" Height="35" Margin="0,0,0,12" Padding="8"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="4">
                                            <TextBlock Text="Full Stream URL" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera2FullUrlTextBox" Style="{StaticResource FieldTextBoxStyle}" IsReadOnly="True" 
                                                     Text="http://192.168.1.102:80/mjpeg/1" FontSize="10" Background="#F5F5F5"/>
                                            
                                            <Button Content="🔄 Test" x:Name="TestCamera2Button" Margin="0,10,0,5" Padding="8,4" Click="TestCamera2Button_Click"/>
                                            <Button Content="📸 Capture" x:Name="CaptureCamera2Button" Margin="0,0,0,5" Padding="8,4" Click="CaptureCamera2Button_Click"/>
                                            <Button Content="👁️ Preview" x:Name="PreviewCamera2Button" Margin="0,0,0,5" Padding="8,4" Click="PreviewCamera2Button_Click"/>
                                            <TextBlock x:Name="Camera2StatusText" Text="Not tested" FontSize="10" Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Camera 3 - Left Side -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,15">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="📹 CAMERA 3 (Left Side Camera)" FontSize="14" FontWeight="Bold" Grid.Column="0"/>
                                        <CheckBox x:Name="Camera3EnabledCheckBox" Content="Enable" IsChecked="True" Grid.Column="1"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Camera Name" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera3NameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="Left Side Camera"/>
                                            
                                            <TextBlock Text="Protocol *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="Camera3ProtocolComboBox" Style="{StaticResource FieldComboBoxStyle}" SelectionChanged="Camera3ProtocolComboBox_SelectionChanged">
                                                <ComboBoxItem Content="HTTP" IsSelected="True" Tag="http"/>
                                                <ComboBoxItem Content="HTTPS" Tag="https"/>
                                                <ComboBoxItem Content="RTSP" Tag="rtsp"/>
                                                <ComboBoxItem Content="TCP" Tag="tcp"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="IP Address *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera3IpTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="192.168.1.103"/>
                                            
                                            <TextBlock Text="Stream Path" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera3StreamPathTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="/mjpeg/1" ToolTip="Path for HTTP/HTTPS or stream path for RTSP"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Port *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera3PortTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="80"/>
                                            
                                            <TextBlock Text="Username" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera3UsernameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="admin"/>
                                            
                                            <TextBlock Text="Password" Style="{StaticResource FieldLabelStyle}"/>
                                            <PasswordBox x:Name="Camera3PasswordBox" Height="35" Margin="0,0,0,12" Padding="8"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="4">
                                            <TextBlock Text="Full Stream URL" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera3FullUrlTextBox" Style="{StaticResource FieldTextBoxStyle}" IsReadOnly="True" 
                                                     Text="http://192.168.1.103:80/mjpeg/1" FontSize="10" Background="#F5F5F5"/>
                                            
                                            <Button Content="🔄 Test" x:Name="TestCamera3Button" Margin="0,10,0,5" Padding="8,4" Click="TestCamera3Button_Click"/>
                                            <Button Content="📸 Capture" x:Name="CaptureCamera3Button" Margin="0,0,0,5" Padding="8,4" Click="CaptureCamera3Button_Click"/>
                                            <Button Content="👁️ Preview" x:Name="PreviewCamera3Button" Margin="0,0,0,5" Padding="8,4" Click="PreviewCamera3Button_Click"/>
                                            <TextBlock x:Name="Camera3StatusText" Text="Not tested" FontSize="10" Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Camera 4 - Right Side -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="📹 CAMERA 4 (Right Side Camera)" FontSize="14" FontWeight="Bold" Grid.Column="0"/>
                                        <CheckBox x:Name="Camera4EnabledCheckBox" Content="Enable" IsChecked="True" Grid.Column="1"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Camera Name" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera4NameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="Right Side Camera"/>
                                            
                                            <TextBlock Text="Protocol *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="Camera4ProtocolComboBox" Style="{StaticResource FieldComboBoxStyle}" SelectionChanged="Camera4ProtocolComboBox_SelectionChanged">
                                                <ComboBoxItem Content="HTTP" IsSelected="True" Tag="http"/>
                                                <ComboBoxItem Content="HTTPS" Tag="https"/>
                                                <ComboBoxItem Content="RTSP" Tag="rtsp"/>
                                                <ComboBoxItem Content="TCP" Tag="tcp"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="IP Address *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera4IpTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="192.168.1.104"/>
                                            
                                            <TextBlock Text="Stream Path" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera4StreamPathTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="/mjpeg/1" ToolTip="Path for HTTP/HTTPS or stream path for RTSP"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Port *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera4PortTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="80"/>
                                            
                                            <TextBlock Text="Username" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera4UsernameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="admin"/>
                                            
                                            <TextBlock Text="Password" Style="{StaticResource FieldLabelStyle}"/>
                                            <PasswordBox x:Name="Camera4PasswordBox" Height="35" Margin="0,0,0,12" Padding="8"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="4">
                                            <TextBlock Text="Full Stream URL" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="Camera4FullUrlTextBox" Style="{StaticResource FieldTextBoxStyle}" IsReadOnly="True" 
                                                     Text="http://192.168.1.104:80/mjpeg/1" FontSize="10" Background="#F5F5F5"/>
                                            
                                            <Button Content="🔄 Test" x:Name="TestCamera4Button" Margin="0,10,0,5" Padding="8,4" Click="TestCamera4Button_Click"/>
                                            <Button Content="📸 Capture" x:Name="CaptureCamera4Button" Margin="0,0,0,5" Padding="8,4" Click="CaptureCamera4Button_Click"/>
                                            <Button Content="👁️ Preview" x:Name="PreviewCamera4Button" Margin="0,0,0,5" Padding="8,4" Click="PreviewCamera4Button_Click"/>
                                            <TextBlock x:Name="Camera4StatusText" Text="Not tested" FontSize="10" Margin="0,5,0,0"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 4: Integrations -->
                <TabItem Header="🔗 Integrations">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="600">
                            <TextBlock Text="EXTERNAL INTEGRATIONS" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <!-- Google Sheets Integration -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="📊 GOOGLE SHEETS INTEGRATION" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <CheckBox x:Name="GoogleSheetsEnabledCheckBox" Content="Enable Google Sheets Sync" Margin="0,0,0,10"/>
                                    
                                    <TextBlock Text="Service Account Key File" Style="{StaticResource FieldLabelStyle}"/>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBox x:Name="ServiceAccountKeyTextBox" Style="{StaticResource FieldTextBoxStyle}" Grid.Column="0" IsReadOnly="True"/>
                                        <Button Content="Browse..." Grid.Column="1" Margin="5,0,0,12" Padding="10,5" x:Name="BrowseKeyFileButton" Click="BrowseKeyFileButton_Click"/>
                                    </Grid>
                                    
                                    <TextBlock Text="Spreadsheet ID" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="SpreadsheetIdTextBox" Style="{StaticResource FieldTextBoxStyle}"/>
                                    
                                    <TextBlock Text="Worksheet Name" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="WorksheetNameTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="WeighmentData"/>
                                    
                                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                        <Button Content="🔄 Test Connection" Padding="10,5" Margin="0,0,10,0" x:Name="TestGoogleSheetsButton" Click="TestGoogleSheetsButton_Click"/>
                                        <Button Content="📤 Sync Now" Padding="10,5" x:Name="SyncNowButton" Click="SyncNowButton_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Database Backup -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <TextBlock Text="💾 DATABASE BACKUP" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <CheckBox x:Name="AutoBackupEnabledCheckBox" Content="Enable Automatic Backup" Margin="0,0,0,10" IsChecked="True"/>
                                    
                                    <TextBlock Text="Backup Location" Style="{StaticResource FieldLabelStyle}"/>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBox x:Name="BackupLocationTextBox" Style="{StaticResource FieldTextBoxStyle}" Grid.Column="0" Text="./Backups"/>
                                        <Button Content="Browse..." Grid.Column="1" Margin="5,0,0,12" Padding="10,5" x:Name="BrowseBackupLocationButton" Click="BrowseBackupLocationButton_Click"/>
                                    </Grid>
                                    
                                    <TextBlock Text="Backup Frequency" Style="{StaticResource FieldLabelStyle}"/>
                                    <ComboBox x:Name="BackupFrequencyComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                        <ComboBoxItem Content="Daily" IsSelected="True"/>
                                        <ComboBoxItem Content="Weekly"/>
                                        <ComboBoxItem Content="Monthly"/>
                                    </ComboBox>
                                    
                                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                        <Button Content="💾 Backup Now" Padding="10,5" Margin="0,0,10,0" x:Name="BackupNowButton" Click="BackupNowButton_Click"/>
                                        <Button Content="📂 Restore Backup" Padding="10,5" x:Name="RestoreBackupButton" Click="RestoreBackupButton_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 5: Data Management -->
                <TabItem Header="📊 Data Management">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="600">
                            <TextBlock Text="DATA MANAGEMENT" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <!-- Materials Management -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="🏗️ MATERIALS MANAGEMENT" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <ListBox x:Name="MaterialsListBox" Grid.Column="0" Height="150" BorderBrush="#CCC" BorderThickness="1"/>
                                        
                                        <StackPanel Grid.Column="1" Margin="10,0,0,0">
                                            <TextBox x:Name="NewMaterialTextBox" Width="150" Margin="0,0,0,5" Padding="5"/>
                                            <Button Content="➕ Add" Padding="10,5" Margin="0,0,0,5" x:Name="AddMaterialButton" Click="AddMaterialButton_Click"/>
                                            <Button Content="✏️ Edit" Padding="10,5" Margin="0,0,0,5" x:Name="EditMaterialButton" Click="EditMaterialButton_Click"/>
                                            <Button Content="🗑️ Delete" Padding="10,5" x:Name="DeleteMaterialButton" Click="DeleteMaterialButton_Click"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Addresses Management -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <TextBlock Text="📍 ADDRESSES MANAGEMENT" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <ListBox x:Name="AddressesListBox" Grid.Column="0" Height="150" BorderBrush="#CCC" BorderThickness="1"/>
                                        
                                        <StackPanel Grid.Column="1" Margin="10,0,0,0">
                                            <TextBox x:Name="NewAddressTextBox" Width="150" Margin="0,0,0,5" Padding="5"/>
                                            <Button Content="➕ Add" Padding="10,5" Margin="0,0,0,5" x:Name="AddAddressButton" Click="AddAddressButton_Click"/>
                                            <Button Content="✏️ Edit" Padding="10,5" Margin="0,0,0,5" x:Name="EditAddressButton" Click="EditAddressButton_Click"/>
                                            <Button Content="🗑️ Delete" Padding="10,5" x:Name="DeleteAddressButton" Click="DeleteAddressButton_Click"/>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 6: Security -->
                <TabItem Header="🔒 Security">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="600">
                            <TextBlock Text="SECURITY SETTINGS" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <!-- Session Settings -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="⏱️ SESSION MANAGEMENT" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <TextBlock Text="Admin Session Timeout (minutes)" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="AdminTimeoutTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="5"/>
                                    
                                    <TextBlock Text="Super Admin Session Timeout (minutes)" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="SuperAdminTimeoutTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="1"/>
                                    
                                    <CheckBox x:Name="AutoLogoutCheckBox" Content="Enable auto-logout on inactivity" IsChecked="True" Margin="0,10,0,0"/>
                                </StackPanel>
                            </Border>

                            <!-- System Information -->
                            <Border Background="#E8F5E8" BorderBrush="#4CAF50" BorderThickness="1" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <TextBlock Text="ℹ️ SYSTEM INFORMATION" FontSize="14" FontWeight="Bold" Margin="0,0,0,10" Foreground="#2E7D32"/>
                                    
                                    <TextBlock Text="Session Management: Enabled" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="Auto-logout: Active" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="Role-based Access: Implemented" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="Security Level: Standard (2FA Disabled)" FontSize="12" Margin="0,0,0,10" Foreground="#666"/>
                                    
                                    <TextBlock Text="✅ System security is active with role-based access control and session management." 
                                               FontSize="11" TextWrapping="Wrap" Foreground="#4CAF50"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 7: Weight Rules (Super Admin Only) -->
                <TabItem Header="⚖️ Weight Rules" x:Name="WeightRulesTab">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="600">
                            <Border Background="#FFF5F5" BorderBrush="#FF6B6B" BorderThickness="2" CornerRadius="8" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="⚠️ SUPER ADMIN ONLY - WEIGHT MANIPULATION RULES" 
                                              Style="{StaticResource SectionHeaderStyle}" Foreground="#E17055" HorizontalAlignment="Center"/>
                                    
                                    <TextBlock Text="🛡️ WARNING: These settings affect weight calculations and should only be modified by authorized Super Admin users." 
                                              FontSize="12" Foreground="#E17055" TextWrapping="Wrap" Margin="0,0,0,20" HorizontalAlignment="Center"/>
                                    
                                    <!-- Weight Tolerance Settings -->
                                    <Border Background="#FFEAA7" BorderBrush="#FDCB6E" BorderThickness="1" CornerRadius="5" Padding="15" Margin="0,0,0,15">
                                        <StackPanel>
                                            <TextBlock Text="📊 WEIGHT TOLERANCE SETTINGS" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                            
                                            <TextBlock Text="Minimum Weight Difference (KG)" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="MinWeightDifferenceTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="5.0"/>
                                            
                                            <TextBlock Text="Maximum Weight Variance (%)" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="MaxWeightVarianceTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="10.0"/>
                                            
                                            <CheckBox x:Name="AllowNegativeWeightCheckBox" Content="Allow negative weight calculations" Margin="0,10,0,0"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Weight Adjustment Rules -->
                                    <Border Background="#FFD3D3" BorderBrush="#FF6B6B" BorderThickness="1" CornerRadius="5" Padding="15">
                                        <StackPanel>
                                            <TextBlock Text="⚙️ WEIGHT ADJUSTMENT RULES" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                            
                                            <CheckBox x:Name="AllowManualWeightAdjustmentCheckBox" Content="Allow manual weight adjustments" Margin="0,0,0,5"/>
                                            <CheckBox x:Name="RequireJustificationCheckBox" Content="Require justification for adjustments" Margin="0,0,0,5"/>
                                            <CheckBox x:Name="LogAllAdjustmentsCheckBox" Content="Log all weight adjustments" IsChecked="True" Margin="0,0,0,10"/>
                                            
                                            <TextBlock Text="Maximum Adjustment Limit (KG)" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="MaxAdjustmentLimitTextBox" Style="{StaticResource FieldTextBoxStyle}" Text="50.0"/>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 8: User Management -->
                <TabItem Header="👥 Users">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="700">
                            <TextBlock Text="USER MANAGEMENT" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <!-- Current Users -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="👥 CURRENT USERS" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <DataGrid x:Name="UsersDataGrid" Height="200" AutoGenerateColumns="False" CanUserAddRows="False">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Header="Username" Binding="{Binding Username}" Width="*"/>
                                            <DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="100"/>
                                            <DataGridTextColumn Header="Last Login" Binding="{Binding LastLogin}" Width="150"/>
                                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="80"/>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                    
                                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                        <Button Content="➕ Add User" Padding="10,5" Margin="0,0,10,0" x:Name="AddUserButton" Click="AddUserButton_Click"/>
                                        <Button Content="✏️ Edit User" Padding="10,5" Margin="0,0,10,0" x:Name="EditUserButton" Click="EditUserButton_Click"/>
                                        <Button Content="🗑️ Delete User" Padding="10,5" x:Name="DeleteUserButton" Click="DeleteUserButton_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Add New User -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <TextBlock Text="➕ ADD NEW USER" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Username *" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="NewUsernameTextBox" Style="{StaticResource FieldTextBoxStyle}"/>
                                            
                                            <TextBlock Text="Password *" Style="{StaticResource FieldLabelStyle}"/>
                                            <PasswordBox x:Name="NewPasswordBox" Height="35" Margin="0,0,0,12" Padding="8"/>
                                        </StackPanel>
                                        
                                        <StackPanel Grid.Column="2">
                                            <TextBlock Text="Role *" Style="{StaticResource FieldLabelStyle}"/>
                                            <ComboBox x:Name="NewUserRoleComboBox" Style="{StaticResource FieldComboBoxStyle}">
                                                <ComboBoxItem Content="User" IsSelected="True"/>
                                                <ComboBoxItem Content="Admin"/>
                                                <ComboBoxItem Content="Super Admin"/>
                                            </ComboBox>
                                            
                                            <TextBlock Text="Full Name" Style="{StaticResource FieldLabelStyle}"/>
                                            <TextBox x:Name="NewUserFullNameTextBox" Style="{StaticResource FieldTextBoxStyle}"/>
                                        </StackPanel>
                                    </Grid>
                                    
                                    <Button Content="👤 Create User" Padding="15,8" Margin="0,10,0,0" x:Name="CreateUserButton" HorizontalAlignment="Left" Click="CreateUserButton_Click"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 9: System -->
                <TabItem Header="🖥️ System">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="600">
                            <TextBlock Text="SYSTEM INFORMATION" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <!-- System Info -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <StackPanel>
                                    <TextBlock Text="ℹ️ SYSTEM INFORMATION" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        
                                        <TextBlock Text="Software Version:" FontWeight="Bold" Grid.Row="0" Grid.Column="0" Margin="0,0,10,5"/>
                                        <TextBlock Text="v2.1.0" Grid.Row="0" Grid.Column="1" Margin="0,0,0,5"/>
                                        
                                        <TextBlock Text="Database Version:" FontWeight="Bold" Grid.Row="1" Grid.Column="0" Margin="0,0,10,5"/>
                                        <TextBlock x:Name="DatabaseVersionText" Text="Loading..." Grid.Row="1" Grid.Column="1" Margin="0,0,0,5"/>
                                        
                                        <TextBlock Text="Last Backup:" FontWeight="Bold" Grid.Row="2" Grid.Column="0" Margin="0,0,10,5"/>
                                        <TextBlock x:Name="LastBackupText" Text="Loading..." Grid.Row="2" Grid.Column="1" Margin="0,0,0,5"/>
                                        
                                        <TextBlock Text="Total Records:" FontWeight="Bold" Grid.Row="3" Grid.Column="0" Margin="0,0,10,5"/>
                                        <TextBlock x:Name="TotalRecordsText" Text="Loading..." Grid.Row="3" Grid.Column="1" Margin="0,0,0,5"/>
                                        
                                        <TextBlock Text="Disk Usage:" FontWeight="Bold" Grid.Row="4" Grid.Column="0" Margin="0,0,10,5"/>
                                        <TextBlock x:Name="DiskUsageText" Text="Loading..." Grid.Row="4" Grid.Column="1" Margin="0,0,0,5"/>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- System Actions -->
                            <Border Background="#F8F9FA" BorderBrush="#DEE2E6" BorderThickness="1" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <TextBlock Text="🔧 SYSTEM ACTIONS" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                                    
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                        <Button Content="🔄 Restart Application" Padding="10,5" Margin="0,0,10,0" x:Name="RestartAppButton" Click="RestartAppButton_Click"/>
                                        <Button Content="📊 System Diagnostics" Padding="10,5" x:Name="SystemDiagnosticsButton" Click="SystemDiagnosticsButton_Click"/>
                                    </StackPanel>
                                    
                                    <StackPanel Orientation="Horizontal">
                                        <Button Content="🗑️ Clear Cache" Padding="10,5" Margin="0,0,10,0" x:Name="ClearCacheButton" Click="ClearCacheButton_Click"/>
                                        <Button Content="📋 Export Logs" Padding="10,5" x:Name="ExportLogsButton" Click="ExportLogsButton_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Tab 9: Admin Tools (Super Admin Only) -->
                <TabItem x:Name="AdminToolsTab" Header="⚖️ Admin Tools" Visibility="Collapsed">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                        <StackPanel MaxWidth="800">
                            <TextBlock Text="ADMIN TOOLS (SUPER ADMIN ONLY)" Style="{StaticResource SectionHeaderStyle}"/>
                            
                            <!-- Weight Management Section -->
                            <Border Background="#FFF3CD" BorderBrush="#FFEAA7" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                        <TextBlock Text="⚠️" FontSize="20" Margin="0,0,10,0"/>
                                        <TextBlock Text="WARNING: Admin tools are for authorized personnel only. All actions are logged and audited." 
                                                   FontWeight="Bold" TextWrapping="Wrap" Foreground="#856404"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <!-- Weight Management -->
                            <GroupBox Header="⚖️ Weight Management System" Margin="0,0,0,25">
                                <StackPanel Margin="15">
                                    <TextBlock Text="Modify recorded weights with proper audit trails and access controls." 
                                               TextWrapping="Wrap" Margin="0,0,0,15" Foreground="#6c757d"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- Weight Modification -->
                                        <Border Grid.Column="0" Background="#E3F2FD" BorderBrush="#90CAF9" 
                                                BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,10,0">
                                            <StackPanel>
                                                <TextBlock Text="🔧 WEIGHT MODIFICATION" FontWeight="Bold" 
                                                           HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                                <TextBlock Text="• Modify entry weights" FontSize="11" Margin="0,0,0,3"/>
                                                <TextBlock Text="• Modify exit weights" FontSize="11" Margin="0,0,0,3"/>
                                                <TextBlock Text="• Validation rules applied" FontSize="11" Margin="0,0,0,10"/>
                                                <Button x:Name="OpenWeightManagementButton" Content="⚖️ Open Weight Manager" 
                                                        Padding="8,5" HorizontalAlignment="Center" 
                                                        Background="#2196F3" Foreground="White" BorderThickness="0"
                                                        Click="OpenWeightManagementButton_Click"/>
                                            </StackPanel>
                                        </Border>
                                        
                                        <!-- Audit History -->
                                        <Border Grid.Column="1" Background="#F3E5F5" BorderBrush="#CE93D8" 
                                                BorderThickness="1" CornerRadius="8" Padding="15" Margin="5,0">
                                            <StackPanel>
                                                <TextBlock Text="📋 AUDIT HISTORY" FontWeight="Bold" 
                                                           HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                                <TextBlock Text="• View all modifications" FontSize="11" Margin="0,0,0,3"/>
                                                <TextBlock Text="• Filter by date/user" FontSize="11" Margin="0,0,0,3"/>
                                                <TextBlock Text="• Export audit reports" FontSize="11" Margin="0,0,0,10"/>
                                                <Button x:Name="ViewAuditHistoryButton" Content="📋 View Audit History" 
                                                        Padding="8,5" HorizontalAlignment="Center" 
                                                        Background="#9C27B0" Foreground="White" BorderThickness="0"
                                                        Click="ViewAuditHistoryButton_Click"/>
                                            </StackPanel>
                                        </Border>
                                        
                                        <!-- Reversal Operations -->
                                        <Border Grid.Column="2" Background="#FFEBEE" BorderBrush="#FFCDD2" 
                                                BorderThickness="1" CornerRadius="8" Padding="15" Margin="10,0,0,0">
                                            <StackPanel>
                                                <TextBlock Text="↩️ REVERSAL OPS" FontWeight="Bold" 
                                                           HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                                <TextBlock Text="• Reverse modifications" FontSize="11" Margin="0,0,0,3"/>
                                                <TextBlock Text="• Restore original weights" FontSize="11" Margin="0,0,0,3"/>
                                                <TextBlock Text="• Full audit trail" FontSize="11" Margin="0,0,0,10"/>
                                                <Button x:Name="ReverseOperationsButton" Content="↩️ Reversal Operations" 
                                                        Padding="8,5" HorizontalAlignment="Center" 
                                                        Background="#F44336" Foreground="White" BorderThickness="0"
                                                        Click="ReverseOperationsButton_Click"/>
                                            </StackPanel>
                                        </Border>
                                    </Grid>
                                </StackPanel>
                            </GroupBox>

                            <!-- System Administration -->
                            <GroupBox Header="🔐 System Administration" Margin="0,0,0,25">
                                <StackPanel Margin="15">
                                    <TextBlock Text="Advanced system controls and user management features." 
                                               TextWrapping="Wrap" Margin="0,0,0,15" Foreground="#6c757d"/>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- Database Management -->
                                        <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                            <TextBlock Text="🗄️ Database Management" FontWeight="Bold" Margin="0,0,0,10"/>
                                            <Button Content="🔒 Force Database Backup" Padding="8,5" Margin="0,0,0,5" 
                                                    x:Name="ForceBackupButton" Click="ForceBackupButton_Click"/>
                                            <Button Content="📊 Database Integrity Check" Padding="8,5" Margin="0,0,0,5" 
                                                    x:Name="IntegrityCheckButton" Click="IntegrityCheckButton_Click"/>
                                            <Button Content="🗑️ Cleanup Old Records" Padding="8,5" Margin="0,0,0,5" 
                                                    x:Name="CleanupRecordsButton" Click="CleanupRecordsButton_Click"/>
                                        </StackPanel>
                                        
                                        <!-- User Management -->
                                        <StackPanel Grid.Column="1" Margin="10,0">
                                            <TextBlock Text="👥 User Management" FontWeight="Bold" Margin="0,0,0,10"/>
                                            <Button Content="👤 Manage User Accounts" Padding="8,5" Margin="0,0,0,5" 
                                                    x:Name="ManageUsersButton" Click="ManageUsersButton_Click"/>
                                            <Button Content="🔑 Reset User Passwords" Padding="8,5" Margin="0,0,0,5" 
                                                    x:Name="ResetPasswordsButton" Click="ResetPasswordsButton_Click"/>
                                            <Button Content="📈 View User Activity" Padding="8,5" Margin="0,0,0,5" 
                                                    x:Name="ViewActivityButton" Click="ViewActivityButton_Click"/>
                                        </StackPanel>
                                        
                                    </Grid>
                                </StackPanel>
                            </GroupBox>

                            <!-- Emergency Functions -->
                            <GroupBox Header="🚨 Emergency Functions" Margin="0,0,0,25">
                                <StackPanel Margin="15">
                                    <Border Background="#FFEBEE" BorderBrush="#FFCDD2" BorderThickness="1" CornerRadius="8" Padding="10" Margin="0,0,0,15">
                                        <TextBlock Text="🚨 These functions should only be used in emergency situations and are irreversible." 
                                                   FontWeight="Bold" Foreground="#C62828" TextWrapping="Wrap"/>
                                    </Border>
                                    
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <Button Content="🔄 Emergency System Reset" Padding="10,8" Margin="0,0,15,0" 
                                                Background="#F44336" Foreground="White" BorderThickness="0"
                                                x:Name="EmergencyResetButton" Click="EmergencyResetButton_Click"/>
                                        <Button Content="🛡️ Enable Maintenance Mode" Padding="10,8" 
                                                Background="#FF9800" Foreground="White" BorderThickness="0"
                                                x:Name="MaintenanceModeButton" Click="MaintenanceModeButton_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </GroupBox>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

            </TabControl>

            <!-- Action Buttons -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,25,0,0">
                <Button x:Name="SaveSettingsButton" Content="💾 SAVE SETTINGS (F2)" Style="{StaticResource SaveButtonStyle}"
                        Click="SaveSettingsButton_Click"/>
                <Button x:Name="CancelSettingsButton" Content="❌ CANCEL (ESC)" Style="{StaticResource CancelButtonStyle}"
                        Click="CancelSettingsButton_Click"/>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>