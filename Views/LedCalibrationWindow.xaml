<Window x:Class="WeighbridgeSoftwareYashCotex.Views.LedCalibrationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="LED Display Calibration" Height="400" Width="500"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
    
    <Window.Resources>
        <Style x:Key="FieldLabelStyle" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,0,0,5"/>
            <Setter Property="Foreground" Value="#333"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
        
        <Style x:Key="FieldTextBoxStyle" TargetType="TextBox">
            <Setter Property="Padding" Value="8"/>
            <Setter Property="BorderBrush" Value="#CCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="35"/>
        </Style>
    </Window.Resources>

    <Border Background="White" Padding="20">
        <StackPanel>
            <TextBlock Text="📺 LED Display Calibration" FontSize="18" FontWeight="Bold" 
                       HorizontalAlignment="Center" Margin="0,0,0,20" Foreground="#6C5CE7"/>
            
            <Border Background="#E3F2FD" BorderBrush="#2196F3" BorderThickness="1" 
                    CornerRadius="5" Padding="15" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="📋 Instructions:" FontWeight="Bold" Margin="0,0,0,10"/>
                    <TextBlock Text="1. Place a known reference weight on the scale" Margin="0,0,0,5"/>
                    <TextBlock Text="2. Enter the actual weight below" Margin="0,0,0,5"/>
                    <TextBlock Text="3. Enter what the LED display currently shows" Margin="0,0,0,5"/>
                    <TextBlock Text="4. The system will calculate the required adjustment" Margin="0,0,0,5"/>
                </StackPanel>
            </Border>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="Actual Weight (KG)" Style="{StaticResource FieldLabelStyle}"/>
                    <TextBox x:Name="ActualWeightTextBox" Style="{StaticResource FieldTextBoxStyle}" 
                             Text="100.00" ToolTip="Enter the known weight you placed on the scale"/>
                    
                    <TextBlock Text="LED Display Reading (KG)" Style="{StaticResource FieldLabelStyle}"/>
                    <TextBox x:Name="DisplayedWeightTextBox" Style="{StaticResource FieldTextBoxStyle}" 
                             Text="0.00" ToolTip="Enter what the LED display currently shows" 
                             TextChanged="DisplayedWeightTextBox_TextChanged"/>
                </StackPanel>
                
                <StackPanel Grid.Column="2">
                    <TextBlock Text="Calculated Adjustment" Style="{StaticResource FieldLabelStyle}"/>
                    <TextBox x:Name="CalculatedAdjustmentTextBox" Style="{StaticResource FieldTextBoxStyle}" 
                             IsReadOnly="True" Background="#F5F5F5" Text="0.00"/>
                    
                    <TextBlock Text="Result Preview" Style="{StaticResource FieldLabelStyle}"/>
                    <TextBox x:Name="ResultPreviewTextBox" Style="{StaticResource FieldTextBoxStyle}" 
                             IsReadOnly="True" Background="#E8F5E8" Text="100.00 KG"/>
                </StackPanel>
            </Grid>

            <Border Background="#FFF3CD" BorderBrush="#FFEAA7" BorderThickness="1" 
                    CornerRadius="4" Padding="10" Margin="0,10,0,20">
                <StackPanel>
                    <TextBlock Text="💡 How it works:" FontWeight="Bold" FontSize="12" Foreground="#856404"/>
                    <TextBlock Text="Adjustment = Actual Weight - Current Display Reading" 
                               FontSize="11" Foreground="#856404" Margin="0,5,0,0"/>
                    <TextBlock Text="Future displays will show: Raw Weight + Adjustment" 
                               FontSize="11" Foreground="#856404"/>
                </StackPanel>
            </Border>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="OkButton" Content="✅ Apply Calibration" Padding="15,8" Margin="0,0,10,0"
                        Background="#00B894" Foreground="White" BorderThickness="0" 
                        FontWeight="Bold" Click="OkButton_Click"/>
                <Button x:Name="CancelButton" Content="❌ Cancel" Padding="15,8" 
                        Background="#636E72" Foreground="White" BorderThickness="0" 
                        FontWeight="Bold" Click="CancelButton_Click"/>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>